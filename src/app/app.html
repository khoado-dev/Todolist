<div class="max-w-xl mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4">TodoList - By KhoaDoDev</h1>

  <form (ngSubmit)="addTodo()" class="flex mb-4">
    <input
      [(ngModel)]="newTitle"
      name="title"
      placeholder="Add todo..."
      class="flex-1 border p-2 rounded-l"
    />
    <button type="submit" class="bg-blue-500 text-white px-4 rounded-r">Add</button>
  </form>

  <div class="flex gap-2 mb-4">
    <button
      (click)="filter.set('all')"
      class="px-2 py-1 border"
      [class.bg-gray-200]="filter() == 'all'"
    >
      All
    </button>
    <button
      (click)="filter.set('active')"
      class="px-2 py-1 border"
      [class.bg-gray-200]="filter() == 'active'"
    >
      Active
    </button>
    <button
      (click)="filter.set('completed')"
      class="px-2 py-1 border"
      [class.bg-gray-200]="filter() == 'completed'"
    >
      Completed
    </button>
  </div>

  <ul>
    @for (t of list; track t.id) {
    <li class="flex items-center mb-2 gap-2">
      <input type="checkbox" [checked]="t.completed" (change)="todos.toggle(t.id)" />
      <input
        [(ngModel)]="t.title"
        name="edit-{{ t.id }}"
        class="flex-1 border p-1"
        (blur)="todos.update(t.id, t.title)"
      />
      <button (click)="todos.remove(t.id)" class="text-red-500">âœ•</button>
    </li>
    }
  </ul>

  <button (click)="todos.clearCompleted()" class="mt-4 text-sm text-gray-600">
    Clear Completed
  </button>
</div>
